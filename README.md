# ДЗ №3 Открытая школа разработчиков на JAVA 4 поток
Создание Spring Boot Starter для логирования HTTP запросов

# Задание:
Разработать Spring Boot Starter, который предоставит возможность логировать HTTP запросы в вашем приложении на базе Spring Boot.

# Требования:
Функциональность:
Ваш Spring Boot Starter должен предоставлять возможность логировать все входящие и исходящие HTTP запросы и ответы вашего приложения.
Логирование должно включать в себя метод запроса, URL, заголовки запроса и ответа, код ответа, время обработки запроса и т.д.

Реализация:
Создайте проект Maven для вашего Spring Boot Starter.
Используйте Spring Boot для автоконфигурации вашего Starter.
Реализуйте механизм перехвата и логирования HTTP запросов с помощью фильтров или интерцепторов Spring, или Spring AOP.
Обеспечьте настройку уровня логирования и формата вывода логов.

Документация:
Напишите подробное описание вашего Spring Boot Starter, включая его функциональность и способы использования.
Обеспечьте хорошую документацию по API и конфигурации вашего Starter.

Тестирование:
Напишите unit-тесты для проверки корректности работы вашего Spring Boot Starter.
Покройте тестами основные сценарии использования и краевые случаи.

# Реализация:
Реализован Spring Boot Starter, который дает возможность включить логирование входящих и исходящих HTTP запросов
и ответы вашего Spring Boot-приложения с помощью интерцепторов Spring.

Для управления стартером имеются следующие конфигурационные параметры со значениями по умолчанию, которые необходимо будет
добавить в конфигурационный файл `application.properties` вашего Spring Boot-приложения:
- **http-logger.enabled=false**
- **http-logger.headers-enabled=false**
- **http-logger.pre-handle-log-level=info**
- **http-logger.post-handle-log-level=info**
- **http-logger.after-completion-log-level=error**


`http-logger.enabled` - включение/выключение стартера логгирования http запросов. Допустимые значения:
- `true` - включено;
- `false` - выключено (значение по умолчанию).

`http-logger.headers-enabled` - включение/выключение отображения заголовков запросов в логе. Допустимые значения:
- `true` - включено;
- `false` - выключено (значение по умолчанию).

`http-logger.pre-handle-log-level` - уровень логирования для входящих http запросов (значение по умолчанию - `info`).

`http-logger.post-handle-log-level` - уровень логирования для исходящих http запросов (значение по умолчанию - `info`).

`http-logger.after-completion-log-level` - уровень логирования для http запросов, при обработке которых возникло исключение (значение по умолчанию - `error`).

Три вышеуказанных параметра могут иметь следующие варианты значений уровней логирования:
- `trace` - TRACE
- `debug` - DEBUG
- `info` - INFO
- `warn` - WARN
- `error` - ERROR
 
# Добавление стартера:
Для возможности использования стартера в ваших проектах необходимо следующее:
- Скачать архив с master-ветки репозитория данного проекта по следующему адресу:
```
https://github.com/RSVarfolomeev/t1_task3/archive/refs/heads/master.zip
```
- Добавить стартер в локальный maven-репозиторий, есть несколько способов: 

- Метод №1: откройте данный проект в IntelliJ IDEA, откройте панель управления Maven,
перейдите по иерархии вниз **http-logger-spring-boot-starter** --> **Lifecycle** и нажмите последовательно шестеренки **clean**, **install**.

- Метод №2: из корневой папки этого проекта в командной строке выполнить команду:
```
mvn clean install
```
- Теперь можно добавить стартер из локального maven-репозитория в ваш проект. Для этого требуется в **pom.xml**-файл проекта
добавить следующую зависимость:
```
<dependency>
    <groupId>t1.school</groupId>
    <artifactId>http-logger-spring-boot-starter</artifactId>
    <version>1.0.0</version>
</dependency>
```
- Для включения стартера и отображения информации о заголовках запросов в логе необходимо в конфигурационный файл `application.properties`
вашего Spring Boot-приложения добавить следующие параметры:
```
http-logger.enabled=true
http-logger.headers-enabled=true
```

---
#### Используемый стек технологий:

---

Java 17, Spring Boot, Spring Web, Maven
